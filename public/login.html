/ Redirect
                setTimeout(() => {
                    window.location.href = "store.html";
                }, 1500);

            } catch (err) {
                logDebug(err.message, true);
                ui.title.innerText = "Login Gagal";
                ui.desc.innerText = "Terjadi kendala saat menyambungkan.";
                ui.errorBox.style.display = 'block';
                ui.errorMsg.innerText = err.message;
                ui.btnRetry.style.display = 'block';
                
                // --- PERBAIKAN LOGIKA 3: UI STATE ---
                // Sembunyikan spinner saat error agar user fokus ke tombol retry
                ui.spinner.style.display = 'none';
            }
        }

        window.onload = runLoginProcess;
    </script>
</body>
</html>
